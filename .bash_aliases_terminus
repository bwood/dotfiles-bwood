##############
## Terminus ##
##############

terminus-git-clone() {
  SITE=$1
  if [ x$SITE = x ]; then
    echo "Must pass a site shortname as the first argument, for example: site-name"
    return
  fi
  
  ID=$(terminus site info --field=id --site=$SITE)
  CMD="git clone ssh://codeserver.dev.$ID@codeserver.dev.$ID.drush.in:2222/~/repository.git $SITE --depth=1"
  $CMD
}

alias tgc=terminus-git-clone


terminus-dashboard() {
  SITE=$1
  if [ x$SITE = x ]; then
    echo "Must pass a site shortname as the first argument, for example: site-name"
    return
  fi
  terminus site dashboard --yes --site=$SITE 
}

alias tdash=terminus-dashboard

terminus-site-wake() {
  SITE=$1
  if [ x$SITE = x ]; then
    echo "Must pass a site shortname as the first argument, for example: site-name"
    return
  fi
  terminus site wake --site=$SITE --env=dev
  terminus site wake --site=$SITE --env=test
}

alias tsite-wake=terminus-site-wake
alias tsw=terminus-site-wake

alias tal="terminus auth login $EMAIL_WORK"
#source /Users/bwood/bin/terminus-completion.bash

terminus-cache-clear () {
  terminus cli cache-clear
  terminus auth login $EMAIL_WORK
  terminus site info --site=openberkeley-ob # rebuild caches
}

alias tcc=terminus-cache-clear
